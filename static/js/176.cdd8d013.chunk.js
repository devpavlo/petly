"use strict";(self.webpackChunkpets_support=self.webpackChunkpets_support||[]).push([[176],{4176:function(e,t,r){r.d(t,{_:function(){return G}});var n,a=r(2791),s="Authorization_section__yOATH",i="Authorization_landscape__r-MHm",o="Authorization_container__Y-MYt",l="Authorization_wrapper__lGOIC",u="Authorization_form__FkoW4",c="Authorization_linkText__Sj8ZU",d="Authorization_link__eslTa",p="Authorization_btn__gu0Xk",m="Authorization_lightBtn__3pYyu",g=r(1087),h="Subtitle_title__w7W90",f=r(3329),C=function(e){var t=e.text;return(0,f.jsx)("h3",{className:h,children:t})},y=r(1134),v=r(1413),x=r(9439),w="PasswordBtn_btn__329HT",_=["title","titleId"];function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function j(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function M(e,t){var r=e.title,s=e.titleId,i=j(e,_);return a.createElement("svg",b({width:25,height:17,viewBox:"0 0 25 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},i),r?a.createElement("title",{id:s},r):null,n||(n=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.95488 3.72893C5.23767 4.88375 3.36679 6.61241 1.20189 8.94545C1.34257 9.07797 1.48198 9.20823 1.62015 9.33623L0.160574 9.33612C-0.0414831 9.14934 -0.0546793 8.83416 0.13144 8.63113C2.45677 6.09449 4.49411 4.1787 6.39684 2.89912C8.30489 1.61597 10.1041 0.954794 11.9426 0.969203C13.7794 0.983599 15.5875 1.67176 17.5151 2.95838C19.4387 4.24235 21.5105 6.142 23.8826 8.6235C24.0735 8.82311 24.0663 9.13961 23.8667 9.33042L23.8588 9.33781L22.3669 9.33771C22.5115 9.20905 22.6573 9.07816 22.8046 8.94501C20.6004 6.66526 18.699 4.95089 16.9599 3.79012C15.1321 2.57011 13.5132 1.98154 11.9348 1.96917C10.3583 1.95682 8.75429 2.51884 6.95488 3.72893ZM22.3662 9.33837L23.858 9.33852C19.1362 13.6605 15.5687 16.0064 11.9421 16.0313C8.3094 16.0562 4.78885 13.753 0.160574 9.33612L1.6202 9.33627C5.8484 13.253 8.92047 15.0519 11.9353 15.0313C14.9512 15.0106 18.0618 13.1699 22.3662 9.33837ZM16.9136 9.33782L22.3662 9.33837C22.3664 9.33815 22.3667 9.33793 22.3669 9.33771L16.9137 9.33732C16.9704 9.06609 17 8.78627 17 8.50022C17 6.01494 14.7614 4.00022 12 4.00022C9.23858 4.00022 7.00001 6.01494 7.00001 8.50022C7.00001 8.78603 7.02961 9.06561 7.08621 9.33662L1.62015 9.33623C1.62017 9.33624 1.62019 9.33626 1.6202 9.33627L7.08626 9.33682C7.52192 11.4223 9.55622 13.0002 12 13.0002C14.4434 13.0002 16.4774 11.4228 16.9136 9.33782ZM15.8819 9.33724C15.9593 9.06612 16 8.78525 16 8.50022C16 6.66373 14.3109 5.00022 12 5.00022C9.68916 5.00022 8.00001 6.66373 8.00001 8.50022C8.00001 8.78506 8.04064 9.06574 8.11793 9.33669L15.8819 9.33724ZM8.11799 9.33693L15.8818 9.33771C15.4604 10.8133 13.952 12.0002 12 12.0002C10.0477 12.0002 8.53909 10.8128 8.11799 9.33693Z"})))}var L,O=a.forwardRef(M),q=(r.p,["title","titleId"]);function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S.apply(this,arguments)}function A(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function I(e,t){var r=e.title,n=e.titleId,s=A(e,q);return a.createElement("svg",S({width:25,height:17,viewBox:"0 0 25 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),r?a.createElement("title",{id:n},r):null,L||(L=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.65805 15.6351C3.46918 15.4336 3.47939 15.1172 3.68084 14.9283L5.14284 13.5577C3.60234 12.4908 1.96571 11.0897 0.160583 9.367C-0.0414747 9.18022 -0.0546709 8.86504 0.131448 8.662C2.45678 6.12537 4.49412 4.20957 6.39685 2.93C8.3049 1.64685 10.1041 0.985671 11.9426 1.00008C13.57 1.01284 15.1748 1.55449 16.8602 2.57265L18.9513 0.612283C19.1528 0.423418 19.4692 0.433625 19.658 0.635081C19.8171 0.804716 19.835 1.05586 19.7164 1.24373L4.77659 15.2498C4.74985 15.2748 4.72793 15.3031 4.71085 15.3334L4.36479 15.6579C4.16333 15.8467 3.84691 15.8365 3.65805 15.6351ZM6.61184 14.4887C8.45438 15.5416 10.1851 16.0742 11.9421 16.0621C15.5685 16.0373 19.1358 13.6917 23.8572 9.37014L23.8667 9.3613C24.0663 9.17049 24.0735 8.85399 23.8826 8.65437C21.8273 6.5043 19.9975 4.79103 18.2941 3.53658L17.5517 4.23266C19.1295 5.37361 20.8477 6.95194 22.8046 8.97589C18.2712 13.0749 15.0526 15.0408 11.9353 15.0622C10.4714 15.0722 8.99403 14.6532 7.37734 13.7711L6.61184 14.4887ZM9.07398 12.1805C9.89661 12.7157 10.9074 13.0311 12 13.0311C14.7614 13.0311 17 11.0164 17 8.5311C17 7.4818 16.601 6.51639 15.932 5.75107L15.2005 6.43691C15.7079 7.0336 16 7.76739 16 8.5311C16 10.3676 14.3109 12.0311 12 12.0311C11.1828 12.0311 10.4433 11.823 9.82878 11.4729L9.07398 12.1805ZM5.89011 12.8572L7.84031 11.0288C7.30952 10.3142 7.00002 9.4552 7.00002 8.5311C7.00002 6.04582 9.23859 4.0311 12 4.0311C12.9537 4.0311 13.8451 4.27142 14.6034 4.68845L16.1003 3.28506C14.6166 2.42785 13.2613 2.01045 11.9348 2.00005C10.3583 1.98769 8.7543 2.54972 6.95489 3.75981C5.23768 4.91463 3.3668 6.64328 1.2019 8.97632C2.9337 10.6078 4.47259 11.8949 5.89011 12.8572ZM8.57841 10.3369L13.8285 5.41489C13.2888 5.17117 12.6706 5.0311 12 5.0311C9.68917 5.0311 8.00002 6.6946 8.00002 8.5311C8.00002 9.17585 8.20821 9.79927 8.57841 10.3369Z"})))}var N=a.forwardRef(I),E=(r.p,function(e){var t=e.onClickHandler,r=e.type;return(0,f.jsxs)("button",{className:w,onClick:t,type:"button",children:[" ","password"===r?(0,f.jsx)(O,{}):(0,f.jsx)(N,{})]})}),Z=r(2737),k="Input_inputWrapper__S0LMC",P="Input_input__D+HgR",T="Input_label__Hl7WT",B="Input_inputTel__c49Bu",R="Input_phoneCode__Ox8IW",z=function(e){var t,r=e.settings,n=e.register,s=e.errors,i=e.inputRef,o=void 0===i?null:i,l=r.name,u=r.type,c=r.placeholder,d=r.required,p=r.requiredMessage,m=r.pattern,g=void 0===m?null:m,h=r.patternMessage,C=void 0===h?null:h,y=r.confirmPassword,w=void 0!==y&&y,_=function(){var e=(0,a.useState)("password"),t=(0,x.Z)(e,2),r=t[0],n=t[1];return{passwordBtnType:r,handlePasswordBtn:function(){n((function(e){return"password"===e?"text":"password"}))}}}(),b=_.passwordBtnType,j=_.handlePasswordBtn,M="password"===u?b:u;return(0,f.jsxs)("div",{className:k,children:[(0,f.jsx)("input",(0,v.Z)({id:l,className:"tel"===u?B:P,type:M,placeholder:c,ref:o},n(l,{required:{value:d,message:p},pattern:g&&{value:g,message:C},validate:w&&function(e){return e===o.current||"Passwords do not match"}}))),"phone"===l&&(0,f.jsx)("span",{className:R,children:"+38"}),"password"===u&&(0,f.jsx)(E,{type:b,onClickHandler:j}),(0,f.jsxs)("label",{className:T,htmlFor:l,children:[" ",c]}),s[l]&&(0,f.jsx)(Z.p,{children:null===(t=s[l])||void 0===t?void 0:t.message})]})},$=r(6774),D=r(9434),H=r(8724),W=function(e){return{getSessionData:function(){var t;return null!==(t=JSON.parse(window.sessionStorage.getItem(e)))&&void 0!==t?t:{}},setSessionData:function(t){var r=JSON.stringify(t);window.sessionStorage.setItem(e,r)}}},F=r(5985),Q=function(){var e=(0,D.I0)(),t=W("loginFrom"),r=t.getSessionData,n=t.setSessionData,a=r(),s=(0,y.cI)({mode:"onBlur",defaultValues:a}),i=s.watch,o=s.register,l=s.handleSubmit,c=s.formState,d=c.errors,m=c.isValid;i((function(e){var t=e.email;n({email:t})}));return(0,f.jsxs)("form",{className:u,onSubmit:l((function(t){var r={email:t.email,password:t.password};e((0,H.x4)(r)).unwrap().then((function(){return(0,F.Am)("Welcome!")})).catch((function(){return(0,F.Am)("Invalid password or email")})),n({})})),children:[(0,f.jsx)(z,{settings:$.sE,register:o,errors:d}),(0,f.jsx)(z,{settings:$.Xn,register:o,errors:d}),(0,f.jsx)("button",{className:p,disabled:!m,type:"submit",children:"Login"})]})},V=function(){var e=(0,a.useState)(!1),t=(0,x.Z)(e,2),r=t[0],n=t[1],s=W("registerFrom"),i=s.getSessionData,o=s.setSessionData,l=i(),c=(0,D.I0)(),d=(0,y.cI)({mode:"onBlur",defaultValues:l}),g=d.register,h=d.handleSubmit,C=d.watch,v=d.formState,w=v.errors,_=v.isValid,b=(0,a.useRef)({});b.current=C("password",""),C((function(e){var t=e.email,r=e.city,n=e.name,a=e.phone;o({email:t,city:r,name:n,phone:a})}));var j=function(){(r||_)&&n((function(e){return!e}))};return(0,f.jsxs)("form",{className:u,onSubmit:h((function(e){var t=e.email,r=e.password,n=e.city,a=e.phone,s={name:e.name,email:t,password:r,city:n,phone:a="+38"+a};console.log(s),c((0,H.z2)(s)).unwrap().then((function(){return(0,F.Am)("Welcome!")})).catch((function(e){var t=409===e.status?"This email is already in use":"Oops, something went wrong... Try again, please";return(0,F.Am)(t)})),o({})})),children:[!r&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(z,{settings:$.sE,register:g,errors:w}),(0,f.jsx)(z,{settings:$.Xn,register:g,errors:w,inputRef:b}),(0,f.jsx)(z,{settings:$.IG,register:g,errors:w,inputRef:b}),(0,f.jsx)("button",{className:p,onClick:j,children:"Next"})]}),r&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(z,{settings:$.sM,register:g,errors:w}),(0,f.jsx)(z,{settings:$.je,register:g,errors:w}),(0,f.jsx)(z,{settings:$.Q5,register:g,errors:w}),(0,f.jsx)("button",{className:p,type:"submit",children:"Register"}),(0,f.jsx)("button",{onClick:j,className:m,type:"button",children:"Back"})]})]})},X=r(4805),G=function(e){var t=e.type,r=(0,X.useMediaQuery)({orientation:"portrait"}),n=(0,X.useMediaQuery)({maxHeight:550}),a=(0,X.useMediaQuery)({maxWidth:550}),u=!r&&n&&!a,p=function(e){return"login"===e?{title:"Login",navigatePath:"/register",navigateMessage:"Don't have an account?",linkText:"Register"}:{title:"Registration",navigatePath:"/login",navigateMessage:"Already have an account?",linkText:"Login"}}(t);return(0,f.jsx)("section",{className:u?i:s,children:(0,f.jsx)("div",{className:o,children:(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)(C,{text:p.title}),"login"===t?(0,f.jsx)(Q,{}):(0,f.jsx)(V,{}),(0,f.jsx)("span",{className:c,children:p.navigateMessage}),(0,f.jsx)(g.rU,{className:d,to:p.navigatePath,children:p.linkText})]})})})}},6774:function(e,t,r){r.d(t,{AC:function(){return c},IG:function(){return s},Q5:function(){return l},Xn:function(){return a},je:function(){return o},k6:function(){return u},nL:function(){return d},sE:function(){return n},sM:function(){return i},tQ:function(){return p}});var n={name:"email",type:"email",placeholder:"Email",required:!0,requiredMessage:"Email is required",pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,patternMessage:"Invalid email address"},a={name:"password",type:"password",placeholder:"Password",required:!0,requiredMessage:"Password is required",pattern:/^\S{7,32}$/i,patternMessage:"Min 7 max 32 symbols"},s={name:"passwordConfirm",type:"password",placeholder:"Confirm Password",required:!0,requiredMessage:"Confirm your password",confirmPassword:!0},i={name:"name",type:"text",placeholder:"Name",required:!0,requiredMessage:"Enter your name, please",pattern:/^[a-zA-Z]+$/i,patternMessage:"Invalid name"},o={name:"city",type:"text",placeholder:"City, Region",required:!0,requiredMessage:"Enter your city and region, please",pattern:/^\s*(?:\w+\s*,\s*){1,}(?:\w+\s*)$/i,patternMessage:"Format: Brovary, Kyiv"},l={name:"phone",type:"tel",placeholder:"Phone",required:!0,requiredMessage:"Enter your phone, please",pattern:/^(0[5-9][0-9]\d{7})$/i,patternMessage:"Phone format: 0971234567"},u={label:"Name pet",name:"name",type:"text",placeholder:"Type pet name",required:!0,requiredMessage:"Enter your pet's name",pattern:/^[A-Za-z0-9\s!@#$%^&*()_+=-`~\\\][{}|';:/.,?><]*$/i,patternMessage:"Latin only, min 2, max 16",maxLength:16,minLength:2},c={label:"Date of Birth",name:"birthday",type:"text",placeholder:"Type date of birth",required:!0,requiredMessage:"Enter the date of birth",pattern:/^\s*(3[01]|[12][0-9]|0?[1-9])\.(1[012]|0?[1-9])\.((?:19|20)\d{2})\s*$/i,patternMessage:"01.01.2020"},d={label:"Breed",name:"breed",type:"text",placeholder:"Type breed",required:!0,requiredMessage:"Enter your pet's breed",pattern:/^[A-Za-z0-9\s!@#$%^&*()_+=-`~\\\][{}|';:/.,?><]*$/i,patternMessage:"Latin only, min 2, max 16",maxLength:16,minLength:2},p={label:"Comments",name:"comments",type:"text",placeholder:"Type comments",required:!0,requiredMessage:"Enter your comment",pattern:/^[A-Za-z0-9\s!@#$%^&*()_+=-`~\\\][{}|';:/.,?><]*$/i,patternMessage:"Latin only, min 8, max 120",maxLength:120,minLength:8}},2737:function(e,t,r){r.d(t,{p:function(){return s}});var n="ValidationError_error__A4hq2",a=r(3329),s=function(e){var t=e.children;return(0,a.jsx)("p",{className:n,children:t})}}}]);
//# sourceMappingURL=176.cdd8d013.chunk.js.map